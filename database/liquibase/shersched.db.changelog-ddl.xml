<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:ext="http://www.liquibase.org/xml/ns/dbchangelog-ext" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog-ext http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-ext.xsd http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    
    <!--
        catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" 
        baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" 
    -->
    
    <!-- CODE TABLES -->
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-1">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_rank_code">
            <column name="sheriff_rank_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="effective_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="date"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-2">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="jail_role_code">
            <column name="jail_role_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="effective_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="date"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-3">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="other_assign_code">
            <column name="other_assign_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="effective_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="date"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-4">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="work_section_code">
            <column name="work_section_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="effective_date" type="date">
                <constraints nullable="false"/>
            </column>
            <column name="expiry_date" type="date"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    
    <!-- TABLES -->
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-5">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="region">
            <column name="region_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="region_cd" type="VARCHAR(12)" remarks="business key">
                <constraints nullable="false"/>
            </column>
            <column name="region_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="location" type="POLYGON"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-6">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="address">
            <column name="address_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="st_address" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-7">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse">
            <column name="courthouse_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_cd" type="VARCHAR(5)" remarks="business key">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="location" type="POINT"/>
            <column name="parent_courthouse_id" type="UUID"/>
            <column name="region_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="address_id" type="UUID"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-8">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom">
            <column name="courtroom_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="courtroom_cd" type="VARCHAR(32)" remarks="business key">
                <constraints nullable="false"/>
            </column>
            <column name="courtroom_name" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-9">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff">
            <column name="sheriff_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="badge_no" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="first_name" type="VARCHAR(100)"/>
            <column name="last_name" type="VARCHAR(100)"/>
            <column name="image_url" remarks="TBD how to store a Sheriff photo" type="VARCHAR(200)"/>
            <column name="userid" type="VARCHAR(32)" remarks="For mapping a user (idir) to a sheriff">
                <constraints nullable="false"/>
            </column>
            <column name="sheriff_rank_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_id" type="UUID" remarks="Permanent location for a sheriff"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-10">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="run">
            <column name="run_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-11">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="assignment">
            <column name="assignment_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="title" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
            <column name="work_section_code" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="courthouse_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="courtroom_id" type="UUID"/>
            <column name="run_id" type="UUID"/>
            <column name="jail_role_code" type="VARCHAR(20)"/>
            <column name="other_assign_code" type="VARCHAR(20)"/>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-12">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty">
            <column name="duty_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="start_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="end_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="sheriffs_required" type="numeric(2)">
                <constraints nullable="false"/>
            </column>
            <column name="assignment_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-13">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty_recurrence">
            <column name="duty_recurrence_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="start_time" type="TIME WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="end_time" type="TIME WITHOUT TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="days_bitmap" type="numeric(10)" remarks="1=mo,2=tu,4=we,8=th,16=fr,32=sa,64=su">
                <constraints nullable="false"/>
            </column>
            <column name="sheriffs_required" type="numeric(2)">
                <constraints nullable="false"/>
            </column>
            <column name="assignment_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-14">
        <createTable catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_duty">
            <column name="sheriff_duty_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="sheriff_id" type="UUID"/>
            <column name="duty_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="start_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="end_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="created_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="updated_by" type="VARCHAR(32)">
                <constraints nullable="false"/>
            </column>
            <column name="created_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="updated_dtm" type="TIMESTAMP WITH TIME ZONE">
                <constraints nullable="false"/>
            </column>
            <column name="revision_count" type="numeric(10)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    
    
    <!-- PRIMARY KEYS -->
    <!--
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-">
        <addPrimaryKey columnNames="" constraintName="pk_" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName=""/>
    </changeSet>
    -->
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-20">
        <addPrimaryKey columnNames="sheriff_rank_code" constraintName="pk_shrkcd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_rank_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-21">
        <addPrimaryKey columnNames="jail_role_code" constraintName="pk_jlrlcd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="jail_role_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-22">
        <addPrimaryKey columnNames="other_assign_code" constraintName="pk_otascd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="other_assign_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-23">
        <addPrimaryKey columnNames="work_section_code" constraintName="pk_wksccd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="work_section_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-24">
        <addPrimaryKey columnNames="region_id" constraintName="pk_rgn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="region"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-25">
        <addPrimaryKey columnNames="address_id" constraintName="pk_adr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="address"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-26">
        <addPrimaryKey columnNames="courthouse_id" constraintName="pk_crth" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-27">
        <addPrimaryKey columnNames="courtroom_id" constraintName="pk_crtr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-28">
        <addPrimaryKey columnNames="sheriff_id" constraintName="pk_shr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-29">
        <addPrimaryKey columnNames="run_id" constraintName="pk_rn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="run"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-30">
        <addPrimaryKey columnNames="assignment_id" constraintName="pk_asn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="assignment"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-31">
        <addPrimaryKey columnNames="duty_id" constraintName="pk_dty" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-32">
        <addPrimaryKey columnNames="duty_recurrence_id" constraintName="pk_dtyrc" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty_recurrence"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-33">
        <addPrimaryKey columnNames="sheriff_duty_id" constraintName="pk_shrdty" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_duty"/>
    </changeSet>
    
    
    <!-- UNIQUE CONSTRAINTS -->
    <!--
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-">
        <addUniqueConstraint columnNames="" constraintName="uk_" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName=""/>
    </changeSet>
    -->
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-40">
        <addUniqueConstraint columnNames="region_cd" constraintName="uk_rgn_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="region"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-41">
        <addUniqueConstraint columnNames="courthouse_cd" constraintName="uk_crth_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-42">
        <addUniqueConstraint columnNames="courtroom_cd" constraintName="uk_crtr_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-43">
        <addUniqueConstraint columnNames="badge_no" constraintName="uk_shrf_bdgn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-44">
        <addUniqueConstraint columnNames="userid" constraintName="uk_shrf_usrd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff"/>
    </changeSet>
    
    
    <!-- INDEXES -->
    <!--
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-">
        <createIndex indexName="ix_" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="">
            <column name=""/>
        </createIndex>
    </changeSet>
    -->
    
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-50">
        <createIndex indexName="ix_rgn_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="region">
            <column name="region_cd"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-51">
        <createIndex indexName="ix_crth_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse">
            <column name="courthouse_cd"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-52">
        <createIndex indexName="ix_crth_prt" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse">
            <column name="parent_courthouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-53">
        <createIndex indexName="ix_crth_rgn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse">
            <column name="region_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-54">
        <createIndex indexName="ix_crth_adr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courthouse">
            <column name="address_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-55">
        <createIndex indexName="ix_crtr_cd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom">
            <column name="courtroom_cd"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-56">
        <createIndex indexName="ix_crtr_rm" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom">
            <column name="courtroom_name"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-57">
        <createIndex indexName="ix_crtr_crth" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="courtroom">
            <column name="courthouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-58">
        <createIndex indexName="ix_shr_bdg" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff">
            <column name="badge_no"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-59">
        <createIndex indexName="ix_shr_uid" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff">
            <column name="userid"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-60">
        <createIndex indexName="ix_shr_crth" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff">
            <column name="courthouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-61">
        <createIndex indexName="ix_shr_rkcd" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff">
            <column name="sheriff_rank_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-62">
        <createIndex indexName="ix_rn_crth" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="run">
            <column name="courthouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-63">
        <createIndex indexName="ix_asn_crth" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="assignment">
            <column name="courthouse_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-64">
        <createIndex indexName="ix_asn_wsc" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="assignment">
            <column name="work_section_code"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-65">
        <createIndex indexName="ix_asn_crtr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="assignment">
            <column name="courtroom_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-66">
        <createIndex indexName="ix_dty_asn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty">
            <column name="assignment_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-67">
        <createIndex indexName="ix_dtyrc_asn" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="duty_recurrence">
            <column name="assignment_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-68">
        <createIndex indexName="ix_shrdty_shr" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_duty">
            <column name="sheriff_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-69">
        <createIndex indexName="ix_shrdty_dty" catalogName="${POSTGRES_CATALOG}" schemaName="${POSTGRES_SCHEMA}" tableName="sheriff_duty">
            <column name="duty_id"/>
        </createIndex>
    </changeSet>
    
    
    <!-- FOREIGN KEYS -->
    <!--
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="" baseTableName="" constraintName="fk_" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="" referencedTableName=""/>
    </changeSet>
    -->
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-80">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="region_id" baseTableName="courthouse" constraintName="fk_crth_rgn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="region_id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-81">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="address_id" baseTableName="courthouse" constraintName="fk_crth_adr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="address_id" referencedTableName="address"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-82">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="courthouse_id" baseTableName="courtroom" constraintName="fk_crtr_crth" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="courthouse_id" referencedTableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-83">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="courthouse_id" baseTableName="sheriff" constraintName="fk_shr_crth" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="courthouse_id" referencedTableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-84">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="sheriff_rank_code" baseTableName="sheriff" constraintName="fk_shr_shrkcd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="sheriff_rank_code" referencedTableName="sheriff_rank_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-85">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="courthouse_id" baseTableName="run" constraintName="fk_rn_crth" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="courthouse_id" referencedTableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-86">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="courthouse_id" baseTableName="assignment" constraintName="fk_asn_crth" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="courthouse_id" referencedTableName="courthouse"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-87">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="work_section_code" baseTableName="assignment" constraintName="fk_asn_wksccd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="work_section_code" referencedTableName="work_section_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-88">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="jail_role_code" baseTableName="assignment" constraintName="fk_asn_jlrlcd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="jail_role_code" referencedTableName="jail_role_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-89">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="other_assign_code" baseTableName="assignment" constraintName="fk_asn_otascd" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="other_assign_code" referencedTableName="other_assign_code"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-90">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="courtroom_id" baseTableName="assignment" constraintName="fk_asn_crtr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="courtroom_id" referencedTableName="courtroom"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-91">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="run_id" baseTableName="assignment" constraintName="fk_asn_rn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="run_id" referencedTableName="run"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-92">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="assignment_id" baseTableName="duty" constraintName="fk_dty_asn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="assignment_id" referencedTableName="assignment"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-93">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="assignment_id" baseTableName="duty_recurrence" constraintName="fk_dtyrc_asn" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="assignment_id" referencedTableName="assignment"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-94">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="sheriff_id" baseTableName="sheriff_duty" constraintName="fk_shrdty_shr" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="sheriff_id" referencedTableName="sheriff"/>
    </changeSet>
    <changeSet author="michael.gabelmann (generated)" id="1521486122124-95">
        <addForeignKeyConstraint baseTableCatalogName="${POSTGRES_CATALOG}" baseTableSchemaName="${POSTGRES_SCHEMA}" baseColumnNames="duty_id" baseTableName="sheriff_duty" constraintName="fk_shrdty_dty" deferrable="false" initiallyDeferred="false" onDelete="NO ACTION" onUpdate="NO ACTION" referencedTableCatalogName="${POSTGRES_CATALOG}" referencedTableSchemaName="${POSTGRES_SCHEMA}" referencedColumnNames="duty_id" referencedTableName="duty"/>
    </changeSet>
    
    
    <!-- Grant access for user on all tables in the schema -->
    <changeSet author="Michael Gabelmann" id="roles_04">
        <sql>
            GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA "${POSTGRES_SCHEMA}" TO "${POSTGRES_APP_USER}";
        </sql>
        <rollback>
            <sql>
                REVOKE ALL PRIVILEGES ON ALL TABLES IN SCHEMA "${POSTGRES_SCHEMA}" FROM "${POSTGRES_APP_USER}";
            </sql>
        </rollback>
    </changeSet>
    
</databaseChangeLog>
